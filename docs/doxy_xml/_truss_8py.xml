<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="_truss_8py" kind="file" language="Python">
    <compoundname>Truss.py</compoundname>
    <innerclass refid="class_truss_1_1_truss" prot="public">Truss::Truss</innerclass>
    <innernamespace refid="namespace_truss">Truss</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespace_truss" refkind="compound"><highlight class="keyword">import</highlight><highlight class="normal"><sp/><sp/>numpy<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>np</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>Global<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>Node<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Node</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>Property<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Property</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;1&gt;<sp/><sp/>&lt;2&gt;</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">connectivity<sp/>=<sp/>[(i),<sp/>(j)]</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;!<sp/>@brief<sp/>Defines<sp/>the<sp/>Truss<sp/>finite<sp/>element<sp/>classes<sp/>1D.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="class_truss_1_1_truss" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_truss_1_1_truss" kindref="compound">Truss</ref>:</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;!<sp/>The<sp/>Truss<sp/>class.</highlight></codeline>
<codeline lineno="14"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Defines<sp/>the<sp/>finite<sp/>element.</highlight></codeline>
<codeline lineno="15"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="class_truss_1_1_truss_1aae6112cf35cb4b4fbfadd3bcd99eb709" kindref="member">__init__</ref>(self,<sp/>id:<sp/>int<sp/>=<sp/>0,<sp/>connectivity:<sp/>list[int]<sp/>=<sp/>(0,<sp/>0),<sp/>id_prop:<sp/>int<sp/>=<sp/>0)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;!<sp/>The<sp/>Truss<sp/>base<sp/>class<sp/>initializer.</highlight></codeline>
<codeline lineno="19"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@param<sp/>id<sp/><sp/>The<sp/>id<sp/>of<sp/>the<sp/>element.</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@param<sp/>connectivity<sp/><sp/>The<sp/>connectivity<sp/>matrix<sp/>of<sp/>the<sp/>element.</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@param<sp/>id_prop<sp/><sp/>The<sp/>id_prop<sp/>of<sp/>the<sp/>element.</highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@param<sp/>TOT_EL_NODES<sp/>The<sp/>number<sp/>of<sp/>nodes<sp/>in<sp/>the<sp/>element.</highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>@return<sp/><sp/>An<sp/>instance<sp/>of<sp/>the<sp/>Hexa8<sp/>class<sp/>initialized.</highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>self.<ref refid="class_truss_1_1_truss_1a7441ef0865bcb3db9b8064dd7375c1ea" kindref="member">id</ref>:<sp/>int<sp/>=<sp/>id</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>self.<ref refid="class_truss_1_1_truss_1a121e7292ab53c4a6ab10e4573112aba9" kindref="member">connectivity</ref>:<sp/>list[int]<sp/>=<sp/>connectivity</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>self.<ref refid="class_truss_1_1_truss_1aa21a4218f8ce852130e99f39c5809efb" kindref="member">id_prop</ref>:<sp/>int<sp/>=<sp/>id_prop</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>self.<ref refid="class_truss_1_1_truss_1a331a1976e74033a265b0fec3fb71c5f7" kindref="member">TOT_EL_NODES</ref>:<sp/>int<sp/>=<sp/>2</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="class_truss_1_1_truss_1adda18863289cfe097427dd6a72f2e296" kindref="member">stiffness</ref>(self,<sp/>el_nodes:<sp/>list[Node],<sp/>prop:<sp/>Property)<sp/>-&gt;<sp/>np.ndarray:</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>n1:<sp/>Node<sp/>=<sp/>el_nodes[0]</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>n2:<sp/>Node<sp/>=<sp/>el_nodes[1]</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>l0:<sp/>float<sp/>=<sp/>n1.dist(n2)</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>l0<sp/>&lt;=<sp/>0.0:</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>np.zeros((2<sp/>*<sp/>DIM_DOF,<sp/>2<sp/>*<sp/>DIM_DOF))</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>y:<sp/>np.ndarray<sp/>=<sp/>n1.direction(n2)</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>yy:<sp/>np.ndarray<sp/>=<sp/>np.outer(y,<sp/>y)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>K:<sp/>np.ndarray<sp/>=<sp/>np.block([</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>[<sp/>yy,<sp/>-yy],</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>[-yy,<sp/><sp/>yy]</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>])</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(prop.young<sp/>*<sp/>prop.area<sp/>/<sp/>l0**3)<sp/>*<sp/>K</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="class_truss_1_1_truss_1ace95240b5c45c902eea6763446a3c8a3" kindref="member">get_nodes_position</ref>(self,<sp/>nodes:<sp/>list[Node])<sp/>-&gt;<sp/>list[int]:</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>nodes_position:<sp/>list[int]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>id_node<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="class_truss_1_1_truss_1a121e7292ab53c4a6ab10e4573112aba9" kindref="member">connectivity</ref>:</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pos:<sp/>int<sp/>=<sp/><ref refid="namespace_global_1a48722663f78961c62ebefcbff2566f55" kindref="member">find_pos</ref>(nodes,<sp/>id_node)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pos<sp/>&lt;<sp/>0:</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(f</highlight><highlight class="stringliteral">&quot;ERROR<sp/>in<sp/>EL:<sp/>{self.id}:<sp/>node<sp/>{id_node}<sp/>not<sp/>defined&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quit()</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nodes_position.append(pos)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nodes_position</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/dev/github/OptiGeo/src/Truss.py"/>
  </compounddef>
</doxygen>
